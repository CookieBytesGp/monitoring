 @{
    Layout = "/Views/Shared/_Layout.cshtml";
    ViewData["Title"] = "Dashboard";
}

<div class="container-fluid">
    <div class="row">
        <div class="col-12">
            <h2 class="mb-4">System Overview</h2>
        </div>
    </div>

    <div class="row">
        <!-- Monitor Status -->
        <div class="col-md-6 mb-4">
            <div class="card">
                <div class="card-header">
                    <h5 class="card-title mb-0">Monitors Status</h5>
                </div>
                <div class="card-body">
                    <div id="monitors-overview">
                        <!-- Will be populated by JavaScript -->
                        <div class="placeholder-loading">Loading monitors...</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Camera Status -->
        <div class="col-md-6 mb-4">
            <div class="card">
                <div class="card-header">
                    <h5 class="card-title mb-0">Cameras Status</h5>
                </div>
                <div class="card-body">
                    <div id="cameras-overview">
                        <!-- Will be populated by JavaScript -->
                        <div class="placeholder-loading">Loading cameras...</div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="row">
        <!-- Quick Actions -->
        <div class="col-12 mb-4">
            <div class="card">
                <div class="card-header">
                    <h5 class="card-title mb-0">Quick Actions</h5>
                </div>
                <div class="card-body">
                    <div class="d-flex gap-2">
                        <a href="@Url.Action("Create", "Monitor", new { area = "Admin" })" class="btn btn-primary">
                            Add Monitor
                        </a>
                        <a href="@Url.Action("Create", "Camera", new { area = "Admin" })" class="btn btn-primary">
                            Add Camera
                        </a>
                        <a href="@Url.Action("Settings", "Dashboard", new { area = "Admin" })" class="btn btn-secondary">
                            Settings
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

@section Scripts {
    <script>
        // Will implement real-time updates using SignalR
        function updateMonitorsOverview() {
            fetch('/Admin/Dashboard/MonitorStatus')
                .then(response => response.json())
                .then(data => {
                    // Will implement update logic
                });
        }

        function updateCamerasOverview() {
            fetch('/Admin/Dashboard/CameraFeeds')
                .then(response => response.json())
                .then(data => {
                    // Will implement update logic
                });
        }

        // Initial load
        updateMonitorsOverview();
        updateCamerasOverview();

        // Refresh every 30 seconds
        setInterval(() => {
            updateMonitorsOverview();
            updateCamerasOverview();
        }, 30000);
    </script>
}